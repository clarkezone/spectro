<Page
    x:Class="Spectro.Views.NavigationRoot"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Spectro.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    DataContext="{Binding NavViewModel, Source={StaticResource Locator}}"
    xmlns:RS3="using:Windows.UI.Xaml.Controls?IsApiContractPresent(Windows.Foundation.UniversalApiContract,5)"
    xmlns:RS2="using:Microsoft.Toolkit.Uwp.UI.Controls?IsApiContractNotPresent(Windows.Foundation.UniversalApiContract,5)"
    Loaded="Page_Loaded"
    xmlns:appmodel="using:Windows.ApplicationModel"
    xmlns:controls="using:Spectro.Controls">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <RS3:NavigationView IsSettingsVisible="True"
                            x:Name="navview"
                            AlwaysShowHeader="False"
                            ItemInvoked="ItemInvoked"
                            >
            <NavigationView.AutoSuggestBox>
                <AutoSuggestBox x:Name="find" QueryIcon="Find" PlaceholderText="Search for newsfeed"/>
            </NavigationView.AutoSuggestBox>
            <!--Not using databinding for items as they never change-->
            <RS3:NavigationView.MenuItems>
                <RS3:NavigationViewItem IsSelected="True" x:Uid="NavigationRoot_AllStories">
                    <RS3:NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE12A;"></FontIcon>
                    </RS3:NavigationViewItem.Icon>
                    UFeeds
                </RS3:NavigationViewItem>
                <RS3:NavigationViewItem IsSelected="True" x:Uid="NavigationRoot_ReadStories">
                    <RS3:NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE930;"></FontIcon>
                    </RS3:NavigationViewItem.Icon>
                    UFeeds
                </RS3:NavigationViewItem>
                <RS3:NavigationViewItem IsSelected="True" x:Uid="NavigationRoot_SavedStories">
                    <RS3:NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xECC5;"></FontIcon>
                    </RS3:NavigationViewItem.Icon>
                    UFeeds
                </RS3:NavigationViewItem>
                
                <RS3:NavigationViewItemSeparator></RS3:NavigationViewItemSeparator>
                
                <RS3:NavigationViewItem IsSelected="True" x:Uid="NavigationRoot_GlobalSharedStories">
                    <RS3:NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE909;"></FontIcon>
                    </RS3:NavigationViewItem.Icon>
                    UGlobalSharedStories
                </RS3:NavigationViewItem>
                <RS3:NavigationViewItem IsSelected="True" x:Uid="NavigationRoot_AllSharedStories">
                    <RS3:NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE716;"></FontIcon>
                    </RS3:NavigationViewItem.Icon>
                    UAllSharedStories
                </RS3:NavigationViewItem>

                <RS3:NavigationViewItemSeparator></RS3:NavigationViewItemSeparator>

                <RS3:NavigationViewItem x:Uid="NavigationRoot_Profile">
                    <RS3:NavigationViewItem.Icon>
                        <SymbolIcon Symbol="OtherUser"></SymbolIcon>
                    </RS3:NavigationViewItem.Icon>
                    UProfile
                </RS3:NavigationViewItem>
            </RS3:NavigationView.MenuItems>
            <RS3:NavigationView.PaneFooter>
                <StackPanel Orientation="Horizontal">
                    <RS3:PersonPicture Height="25" Width="25" Margin="12,0,12,0">
                        <RS3:PersonPicture.ProfilePicture>
                            <BitmapImage UriSource="{x:Bind Vm.ProfileImageUri, Mode=OneWay}"></BitmapImage>
                        </RS3:PersonPicture.ProfilePicture>
                    </RS3:PersonPicture>
                    <HyperlinkButton x:Name="MoreInfoBtn"
                             Content="{x:Bind Vm.LoginButtonText, Mode=OneWay}"
                             Command="{x:Bind Vm.LoginLogoutCommand}"
                             />
                </StackPanel>
            </RS3:NavigationView.PaneFooter>
            <Frame x:Name="appNavFrame" >
            </Frame>
        </RS3:NavigationView>
        <!-- how to handle position with / without back button-->
        <TextBlock Style="{ThemeResource CaptionTextBlockStyle}" Margin="12,8,0,0" VerticalAlignment="Top" Text="{x:Bind appmodel:Package.Current.DisplayName}"></TextBlock>

        <controls:LoginControl x:Name="credentialsPrompt" >

        </controls:LoginControl>
        <ProgressBar x:Name="serviceProgress" IsIndeterminate="True" IsEnabled="True" VerticalAlignment="Top" HorizontalAlignment="Stretch" Height="10" Visibility="Collapsed"></ProgressBar>
    </Grid>
</Page>
